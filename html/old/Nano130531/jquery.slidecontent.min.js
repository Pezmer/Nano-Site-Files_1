(function(a){if(!a.PP){a.PP=new Object()}a.PP.SlideContent=function(d,c){var e=this;var b=false;e.animation=false;e.$el=a(d);e.el=d;e.$el.data("PP.SlideContent",e);e.init=function(){e.options=a.extend({},a.PP.SlideContent.defaultOptions,c);var f="a";if(e.options.linkAllow!=false){f=e.array2string(e.options.linkAllow)}var g=false;if(e.options.linkExcept!=false){g=e.array2string(e.options.linkExcept)}a(f).live("click",function(l){if(e.animation){l.preventDefault()}if(!a(this).is(g)){var m=false;var k=window.location.hostname;var h=a(this).attr("href");var j;if(h.substring(0,4)=="http"){j=h.split("http://");j=j[1].split("/");j=j[0];if(k==j){m=true}}else{m=true}if(m){l.preventDefault();if(!e.animation){a.get(a(this).attr("href"),function(n){e.ajaxData=n;e.slideContent();if(e.options.ajaxContent.length>0){e.ajaxContent(e.options.ajaxContent)}})}}}})};e.slideContent=function(){e.animation=true;var g=e.$el.attr("id");var h=e.$el;var k=a("#"+g,e.ajaxData);var f=h.width();var j=h.innerHeight()+"px";h.wrapInner('<div class="ppOverflow"></div>');a(".ppOverflow").css({position:"relative",overflow:"hidden",height:j,width:f+"px"});a(".ppOverflow").wrapInner('<div class="ppCurrent"></div>');a(".ppCurrent").css({position:"absolute",left:"0px",top:"0px",width:f+"px"});a(".ppOverflow").append('<div class="ppLoading"></div>');a(".ppLoading").css({position:"absolute",left:(f+e.options.padding)+"px",top:"0px",width:f+"px"});a(".ppLoading").html(k.html());a(".ppCurrent").animate({left:"-"+(f+e.options.padding)+"px"},e.options.duration,function(){a(".ppCurrent").remove();e.animation=false});a(".ppLoading").animate({left:"0px"},e.options.duration,function(){h.html(a(".ppLoading").html());e.animation=false});a(".ppOverflow").animate({height:a(".ppLoading").innerHeight()+"px"},e.options.duration)};e.ajaxContent=function(g){for(i=0;i<g.length;i++){if(g[i].substring(0,1)=="."){var f;var j;var h=0;a(g[i]).each(function(){f=a(g[i]);j=a(g[i],e.ajaxData);a(f[h]).html(a(j[h]).html());h++})}else{a(g[i]).html(a(g[i],e.ajaxData).html())}}};e.array2string=function(g){var f="";if(a.isArray(g)){a.each(g,function(h,j){if(f==""){f+=j}else{f+=","+j}})}return f};e.init()};a.PP.SlideContent.defaultOptions={duration:500,ajaxContent:false,linkAllow:false,linkExcept:false,padding:0};a.fn.slideContent=function(b){return this.each(function(){(new a.PP.SlideContent(this,b))})}})(jQuery);
